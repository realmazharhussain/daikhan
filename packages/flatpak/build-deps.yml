name: build-deps
cleanup:
  - "*"
modules:
  - name: blueprint-compiler
    builddir: true
    buildsystem: meson
    sources:
      - type: archive
        url: https://gitlab.gnome.org/jwestman/blueprint-compiler/-/archive/v0.8.1/blueprint-compiler-v0.8.1.tar.bz2
        sha256: 7690fa48b4c7237290a71e1521f4a52bfe83b4e44ca6c807955a0ac96c27a35a

  - name: cargo-c
    buildsystem: simple
    sources:
      - type: archive
        url: https://github.com/lu-zero/cargo-c/archive/refs/tags/v0.9.20.tar.gz
        sha256: 6a89125c4b59279e73f977ef8a7aa5d83240bdf5d1d7ef1a53b8d1f2201a5f41
      - cargo-c-sources.json
    build-options:
      env:
        CARGO_HOME: /run/build/cargo-c/cargo
    build-commands:
      - cargo install --offline --path . --root /app
